<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•†å“è©³ç´° - Atelier Bloom</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Noto+Serif+JP:wght@400;600&family=Noto+Sans+JP:wght@300;400;500&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="logo">
                <a href="test-local.html">Atelier Bloom</a>
            </h1>
            <nav class="nav">
                <a href="test-local.html">HOME</a>
                <a href="products-local.html">CATEGORY</a>
                <a href="#about">ABOUT</a>
                <a href="#guide">GUIDE</a>
                <a href="#contact">CONTACT</a>
            </nav>
            <div class="header-actions">
                <button class="search-btn">ğŸ”</button>
                <button class="favorites-btn">â™¡</button>
                <button class="cart-btn">
                    ğŸ›’
                    <span class="cart-count" id="cartCount">0</span>
                </button>
                <a href="login.html" class="login-btn">ãƒ­ã‚°ã‚¤ãƒ³</a>
            </div>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">â˜°</button>
        </div>
    </header>

    <main>
        <div class="breadcrumb">
            <div class="container">
                <a href="test-local.html">ãƒ›ãƒ¼ãƒ </a> &gt; 
                <a href="products-local.html">å•†å“ä¸€è¦§</a> &gt; 
                <span id="productBreadcrumb">å•†å“è©³ç´°</span>
            </div>
        </div>

        <section class="product-detail" id="productDetail">
            <div class="container">
                <div class="product-detail-content">
                    <div class="product-images">
                        <div class="thumbnail-list">
                            <div class="thumbnail active" onclick="selectImage(0)">
                                <div class="placeholder-image">ç”»åƒ1</div>
                            </div>
                            <div class="thumbnail" onclick="selectImage(1)">
                                <div class="placeholder-image">ç”»åƒ2</div>
                            </div>
                            <div class="thumbnail" onclick="selectImage(2)">
                                <div class="placeholder-image">ç”»åƒ3</div>
                            </div>
                        </div>
                        <div class="main-image">
                            <div class="placeholder-image" id="mainProductImage">å•†å“ç”»åƒ</div>
                        </div>
                    </div>
                    
                    <div class="product-detail-info">
                        <h1 id="productName">å•†å“å</h1>
                        <p class="product-detail-price price" id="productPrice">Â¥0</p>
                        <span class="stock-status in-stock" id="stockStatus">åœ¨åº«ã‚ã‚Š</span>
                        
                        <div class="product-description">
                            <p id="productDescription">å•†å“èª¬æ˜ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
                        </div>
                        
                        <div class="product-options">
                            <div class="quantity-selector">
                                <label>æ•°é‡:</label>
                                <button class="quantity-decrease" onclick="changeQuantity(-1)">-</button>
                                <input type="number" class="quantity-input" id="quantityInput" value="1" min="1" max="10">
                                <button class="quantity-increase" onclick="changeQuantity(1)">+</button>
                            </div>
                            
                            <button class="add-to-cart" id="addToCartBtn" onclick="addToCart()">
                                ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
                            </button>
                            
                            <button class="add-to-favorites" id="favoriteBtn" onclick="toggleFavorite()">
                                â™¡ ãŠæ°—ã«å…¥ã‚Šã«è¿½åŠ 
                            </button>
                        </div>
                        
                        <div class="product-specs">
                            <h3>å•†å“è©³ç´°</h3>
                            <div class="spec-item">
                                <span class="spec-label">ç´ æ:</span>
                                <span class="spec-value" id="productMaterials">-</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">ã‚µã‚¤ã‚º:</span>
                                <span class="spec-value" id="productSize">-</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">ãŠæ‰‹å…¥ã‚Œ:</span>
                                <span class="spec-value" id="productCare">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="related-products">
            <div class="container">
                <h2 class="section-title">é–¢é€£å•†å“</h2>
                <div class="products-grid" id="relatedProducts">
                    <a href="product-detail-local.html?id=2" class="product-item">
                        <div class="product-image">
                            <div class="placeholder-image">ãƒ­ãƒ¼ã‚ºã‚¯ã‚©ãƒ¼ãƒ„ãƒãƒƒã‚¯ãƒ¬ã‚¹</div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">ãƒ­ãƒ¼ã‚ºã‚¯ã‚©ãƒ¼ãƒ„ãƒãƒƒã‚¯ãƒ¬ã‚¹</h3>
                            <p class="product-price price">Â¥4,800</p>
                        </div>
                    </a>
                    
                    <a href="product-detail-local.html?id=3" class="product-item">
                        <div class="product-image">
                            <div class="placeholder-image">ã‚·ãƒ³ãƒ—ãƒ«ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ–ãƒ¬ã‚¹ãƒ¬ãƒƒãƒˆ</div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">ã‚·ãƒ³ãƒ—ãƒ«ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ–ãƒ¬ã‚¹ãƒ¬ãƒƒãƒˆ</h3>
                            <p class="product-price price">Â¥3,800</p>
                        </div>
                    </a>
                    
                    <a href="product-detail-local.html?id=5" class="product-item">
                        <div class="product-image">
                            <div class="placeholder-image">ãƒ ãƒ¼ãƒ³ã‚¹ãƒˆãƒ¼ãƒ³ãƒ•ãƒ¼ãƒ—ãƒ”ã‚¢ã‚¹</div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">ãƒ ãƒ¼ãƒ³ã‚¹ãƒˆãƒ¼ãƒ³ãƒ•ãƒ¼ãƒ—ãƒ”ã‚¢ã‚¹</h3>
                            <p class="product-price price">Â¥3,600</p>
                        </div>
                    </a>
                    
                    <a href="product-detail-local.html?id=8" class="product-item">
                        <div class="product-image">
                            <div class="placeholder-image">ã‚¯ãƒªã‚¹ã‚¿ãƒ«ã‚¹ã‚¿ãƒƒãƒ‰ãƒ”ã‚¢ã‚¹</div>
                        </div>
                        <div class="product-info">
                            <h3 class="product-name">ã‚¯ãƒªã‚¹ã‚¿ãƒ«ã‚¹ã‚¿ãƒƒãƒ‰ãƒ”ã‚¢ã‚¹</h3>
                            <p class="product-price price">Â¥2,800</p>
                        </div>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <a href="index.html" class="footer-logo">
                        <h3>Atelier Bloom</h3>
                        <p>ãƒãƒ³ãƒ‰ãƒ¡ã‚¤ãƒ‰ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ã®å°‚é–€åº—</p>
                    </a>
                </div>
                <div class="footer-section">
                    <h4>ã‚·ãƒ§ãƒƒãƒ—æƒ…å ±</h4>
                    <ul>
                        <li><a href="#guide">ã”æ³¨æ–‡æ–¹æ³•</a></li>
                        <li><a href="#guide">ãŠæ”¯æ‰•ã„ã«ã¤ã„ã¦</a></li>
                        <li><a href="#guide">é…é€ã«ã¤ã„ã¦</a></li>
                        <li><a href="#guide">è¿”å“ãƒ»äº¤æ›</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ã‚µãƒãƒ¼ãƒˆ</h4>
                    <ul>
                        <li><a href="#contact">ãŠå•ã„åˆã‚ã›</a></li>
                        <li><a href="#faq">ã‚ˆãã‚ã‚‹è³ªå•</a></li>
                        <li><a href="#privacy">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
                        <li><a href="#terms">åˆ©ç”¨è¦ç´„</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Atelier Bloom. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // å•†å“ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ç”¨ï¼‰
        const products = {
            1: {
                id: 1,
                name: "ãƒ‘ãƒ¼ãƒ«ãƒ‰ãƒ­ãƒƒãƒ—ãƒ”ã‚¢ã‚¹",
                category: "pierced",
                price: 3200,
                description: "ä¸Šå“ãªæ·¡æ°´ãƒ‘ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ãŸã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆãªãƒ”ã‚¢ã‚¹ã€‚ã©ã‚“ãªè£…ã„ã«ã‚‚åˆã‚ã›ã‚„ã™ãã€ç‰¹åˆ¥ãªæ—¥ã«ã‚‚ãŠä½¿ã„ã„ãŸã ã‘ã¾ã™ã€‚ä¸€ã¤ã²ã¨ã¤æ‰‹ä½œæ¥­ã§ä¸å¯§ã«ä»•ä¸Šã’ã¦ãŠã‚Šã€ãƒ‘ãƒ¼ãƒ«ã®è‡ªç„¶ãªè¼ããŒç¾ã—ãã€ä¸Šå“ã§æ´—ç·´ã•ã‚ŒãŸå°è±¡ã‚’ä¸ãˆã¾ã™ã€‚",
                materials: "æ·¡æ°´ãƒ‘ãƒ¼ãƒ«ã€14Kã‚´ãƒ¼ãƒ«ãƒ‰ãƒ•ã‚£ãƒ«ãƒ‰",
                size: "ç´„2.5cm",
                stock: 5,
                care: "æ°´ã«æ¿¡ã‚Œãªã„ã‚ˆã†æ³¨æ„ã—ã€æŸ”ã‚‰ã‹ã„å¸ƒã§è»½ãæ‹­ã„ã¦ãã ã•ã„ã€‚"
            },
            2: {
                id: 2,
                name: "ãƒ­ãƒ¼ã‚ºã‚¯ã‚©ãƒ¼ãƒ„ãƒãƒƒã‚¯ãƒ¬ã‚¹",
                category: "necklaces",
                price: 4800,
                description: "æ„›ã¨ç¾ã®çŸ³ã¨ã—ã¦çŸ¥ã‚‰ã‚Œã‚‹ãƒ­ãƒ¼ã‚ºã‚¯ã‚©ãƒ¼ãƒ„ã®ãƒŠãƒãƒ¥ãƒ©ãƒ«ãªç¾ã—ã•ã‚’æ´»ã‹ã—ãŸãƒãƒƒã‚¯ãƒ¬ã‚¹ã€‚æ·¡ã„ãƒ”ãƒ³ã‚¯è‰²ãŒè‚Œãªã˜ã¿ã‚ˆãã€å„ªã—ã„å°è±¡ã‚’ä¸ãˆã¦ãã‚Œã¾ã™ã€‚ãƒã‚§ãƒ¼ãƒ³ã®é•·ã•ã¯èª¿æ•´å¯èƒ½ã§ã€ãŠå¥½ã¿ã®ã‚¹ã‚¿ã‚¤ãƒ«ã§ãŠæ¥½ã—ã¿ã„ãŸã ã‘ã¾ã™ã€‚",
                materials: "ãƒ­ãƒ¼ã‚ºã‚¯ã‚©ãƒ¼ãƒ„ã€ã‚·ãƒ«ãƒãƒ¼925",
                size: "ãƒã‚§ãƒ¼ãƒ³é•·ï¼š45cmï¼ˆã‚¢ã‚¸ãƒ£ã‚¹ã‚¿ãƒ¼3cmï¼‰",
                stock: 3,
                care: "ç›´å°„æ—¥å…‰ã‚’é¿ã‘ã¦ä¿ç®¡ã—ã¦ãã ã•ã„ã€‚"
            },
            3: {
                id: 3,
                name: "ã‚·ãƒ³ãƒ—ãƒ«ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ–ãƒ¬ã‚¹ãƒ¬ãƒƒãƒˆ",
                category: "bracelets",
                price: 3800,
                description: "æ—¥å¸¸ä½¿ã„ã«ã´ã£ãŸã‚Šãªä¸Šå“ãªã‚´ãƒ¼ãƒ«ãƒ‰ãƒ–ãƒ¬ã‚¹ãƒ¬ãƒƒãƒˆã€‚é‡ã­ä»˜ã‘ã«ã‚‚ãŠã™ã™ã‚ã§ã™ã€‚ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ã‚¶ã‚¤ãƒ³ãªãŒã‚‰ã€ä¸Šè³ªãªç´ æã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€èº«ã«ã¤ã‘ã‚‹ã ã‘ã§å“æ ¼ãŒä¸ŠãŒã‚Šã¾ã™ã€‚ã©ã‚“ãªã‚¹ã‚¿ã‚¤ãƒ«ã«ã‚‚åˆã‚ã›ã‚„ã™ã„ä¸‡èƒ½ã‚¢ã‚¤ãƒ†ãƒ ã§ã™ã€‚",
                materials: "14Kã‚´ãƒ¼ãƒ«ãƒ‰ãƒ•ã‚£ãƒ«ãƒ‰",
                size: "å†…å‘¨ï¼šç´„16cmï¼ˆèª¿æ•´å¯ï¼‰",
                stock: 8,
                care: "æ±—ã‚„æ°´åˆ†ã‚’é¿ã‘ã€ä½¿ç”¨å¾Œã¯ä¹¾ã„ãŸå¸ƒã§æ‹­ã„ã¦ãã ã•ã„ã€‚"
            },
            4: {
                id: 4,
                name: "æ¡œãƒ¢ãƒãƒ¼ãƒ•ãƒ”ã‚¢ã‚¹ã€é™å®šã€‘",
                category: "limited",
                price: 4200,
                description: "æ˜¥ã®è¨ªã‚Œã‚’å‘Šã’ã‚‹æ¡œã‚’ãƒ¢ãƒãƒ¼ãƒ•ã«ã—ãŸå­£ç¯€é™å®šã®ãƒ”ã‚¢ã‚¹ã€‚ç¹Šç´°ãªå½«åˆ»ãŒç¾ã—ã„ä¸€å“ã§ã™ã€‚è·äººã®æ‰‹ã«ã‚ˆã‚‹ç´°ã‹ãªè£…é£¾ãŒæ–½ã•ã‚Œã¦ãŠã‚Šã€æ¡œã®èŠ±ã³ã‚‰ã®ç¹Šç´°ã•ã¾ã§è¡¨ç¾ã•ã‚Œã¦ã„ã¾ã™ã€‚æ˜¥ã®è£…ã„ã«ã´ã£ãŸã‚Šã®ç‰¹åˆ¥ãªã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ã§ã™ã€‚",
                materials: "ã‚·ãƒ«ãƒãƒ¼925ã€ãƒ”ãƒ³ã‚¯ã‚µãƒ•ã‚¡ã‚¤ã‚¢",
                size: "ç´„1.8cm",
                stock: 2,
                care: "å°‚ç”¨ã‚¯ãƒ­ã‚¹ã§å„ªã—ãç£¨ã„ã¦ãã ã•ã„ã€‚"
            },
            5: {
                id: 5,
                name: "ãƒ ãƒ¼ãƒ³ã‚¹ãƒˆãƒ¼ãƒ³ãƒ•ãƒ¼ãƒ—ãƒ”ã‚¢ã‚¹",
                category: "pierced",
                price: 3600,
                description: "ç¥ç§˜çš„ãªè¼ãã®ãƒ ãƒ¼ãƒ³ã‚¹ãƒˆãƒ¼ãƒ³ã‚’ã‚ã—ã‚‰ã£ãŸãƒ•ãƒ¼ãƒ—ãƒ”ã‚¢ã‚¹ã€‚å…‰ã®è§’åº¦ã§è¡¨æƒ…ãŒå¤‰ã‚ã‚Šã¾ã™ã€‚ãƒ ãƒ¼ãƒ³ã‚¹ãƒˆãƒ¼ãƒ³ç‰¹æœ‰ã®è™¹è‰²ã®å…‰å½©ï¼ˆã‚¢ãƒ‡ãƒ¥ãƒ©ãƒ¬ãƒƒã‚»ãƒ³ã‚¹ï¼‰ãŒç¾ã—ãã€èº«ã«ã¤ã‘ã‚‹äººã‚’ç¥ç§˜çš„ã§é­…åŠ›çš„ã«æ¼”å‡ºã—ã¦ãã‚Œã¾ã™ã€‚",
                materials: "ãƒ ãƒ¼ãƒ³ã‚¹ãƒˆãƒ¼ãƒ³ã€ã‚·ãƒ«ãƒãƒ¼925",
                size: "ç›´å¾„ï¼š2cm",
                stock: 6,
                care: "æœˆå…‰æµ´ã§æµ„åŒ–ã™ã‚‹ã¨çŸ³ã®åŠ›ãŒé«˜ã¾ã‚Šã¾ã™ã€‚"
            },
            6: {
                id: 6,
                name: "ã‚¢ãƒ¡ã‚¸ã‚¹ãƒˆãƒ†ã‚£ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ãƒãƒƒã‚¯ãƒ¬ã‚¹",
                category: "necklaces",
                price: 5200,
                description: "ç¾ã—ã„ç´«è‰²ã®ã‚¢ãƒ¡ã‚¸ã‚¹ãƒˆã‚’ãƒ†ã‚£ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã‚«ãƒƒãƒˆã«ã—ãŸä¸Šå“ãªãƒãƒƒã‚¯ãƒ¬ã‚¹ã€‚ã‚¢ãƒ¡ã‚¸ã‚¹ãƒˆã®æ·±ã„ç´«è‰²ãŒä¸Šå“ã§æ´—ç·´ã•ã‚ŒãŸå°è±¡ã‚’ä¸ãˆã€ç‰¹åˆ¥ãªæ—¥ã®è£…ã„ã‚’æ ¼ä¸Šã’ã—ã¦ãã‚Œã¾ã™ã€‚ãƒ†ã‚£ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—ã‚«ãƒƒãƒˆã«ã‚ˆã‚Šå…‰ã®åå°„ãŒç¾ã—ãè¼ãã¾ã™ã€‚",
                materials: "ã‚¢ãƒ¡ã‚¸ã‚¹ãƒˆã€14Kã‚´ãƒ¼ãƒ«ãƒ‰ãƒ•ã‚£ãƒ«ãƒ‰",
                size: "ãƒã‚§ãƒ¼ãƒ³é•·ï¼š40cmï¼ˆã‚¢ã‚¸ãƒ£ã‚¹ã‚¿ãƒ¼5cmï¼‰",
                stock: 4,
                care: "ç´«å¤–ç·šã‚’é¿ã‘ã¦ä¿ç®¡ã—ã¦ãã ã•ã„ã€‚"
            },
            7: {
                id: 7,
                name: "ã‚¿ãƒ¼ã‚³ã‚¤ã‚ºãƒã‚§ãƒ¼ãƒ³ãƒ–ãƒ¬ã‚¹ãƒ¬ãƒƒãƒˆ",
                category: "bracelets",
                price: 4200,
                description: "é®®ã‚„ã‹ãªã‚¿ãƒ¼ã‚³ã‚¤ã‚ºãƒ–ãƒ«ãƒ¼ãŒå°è±¡çš„ãªå¤ã‚‰ã—ã„ãƒ–ãƒ¬ã‚¹ãƒ¬ãƒƒãƒˆã€‚ã‚¿ãƒ¼ã‚³ã‚¤ã‚ºã®é®®ã‚„ã‹ãªãƒ–ãƒ«ãƒ¼ãŒè‚Œã‚’ç¾ã—ãè¦‹ã›ã€å¤ã®è£…ã„ã«ã´ã£ãŸã‚Šã§ã™ã€‚å¤©ç„¶çŸ³ã®æŒã¤ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæ„Ÿã˜ã‚‰ã‚Œã‚‹ã€ç™’ã—ã®åŠ¹æœã‚‚æœŸå¾…ã§ãã‚‹ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ã§ã™ã€‚",
                materials: "ã‚¿ãƒ¼ã‚³ã‚¤ã‚ºã€ã‚·ãƒ«ãƒãƒ¼925",
                size: "å†…å‘¨ï¼šç´„17cmï¼ˆèª¿æ•´å¯ï¼‰",
                stock: 5,
                care: "æ°´ã«æ¿¡ã‚‰ã•ãªã„ã‚ˆã†æ³¨æ„ã—ã¦ãã ã•ã„ã€‚"
            },
            8: {
                id: 8,
                name: "ã‚¯ãƒªã‚¹ã‚¿ãƒ«ã‚¹ã‚¿ãƒƒãƒ‰ãƒ”ã‚¢ã‚¹",
                category: "pierced",
                price: 2800,
                description: "ã‚¯ãƒªã‚¢ã‚¯ãƒªã‚¹ã‚¿ãƒ«ã®è¼ããŒç¾ã—ã„ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¹ã‚¿ãƒƒãƒ‰ãƒ”ã‚¢ã‚¹ã€‚ã©ã‚“ãªã‚·ãƒ¼ãƒ³ã«ã‚‚åˆã‚ã›ã‚„ã™ãã€æ¯æ—¥ä½¿ã„ã«ãŠã™ã™ã‚ã§ã™ã€‚é«˜å“è³ªãªã‚¯ãƒªã‚¹ã‚¿ãƒ«ã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€å…‰ã‚’ç¾ã—ãåå°„ã—ã¦é¡”å‘¨ã‚Šã‚’æ˜ã‚‹ãè¦‹ã›ã¦ãã‚Œã¾ã™ã€‚",
                materials: "ã‚¯ãƒªã‚¹ã‚¿ãƒ«ã€ã‚·ãƒ«ãƒãƒ¼925",
                size: "ç´„0.8cm",
                stock: 12,
                care: "æŸ”ã‚‰ã‹ã„å¸ƒã§å„ªã—ãæ‹­ã„ã¦ãã ã•ã„ã€‚"
            }
        };

        let currentProduct = null;
        let quantity = 1;

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            loadProduct();
            updateCartCount();
        });

        function loadProduct() {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = parseInt(urlParams.get('id')) || 1;
            
            currentProduct = products[productId];
            if (currentProduct) {
                displayProduct();
                updateBreadcrumb();
            } else {
                showError();
            }
        }

        function displayProduct() {
            document.getElementById('productName').textContent = currentProduct.name;
            document.getElementById('productPrice').textContent = `Â¥${currentProduct.price.toLocaleString()}`;
            document.getElementById('productDescription').textContent = currentProduct.description;
            document.getElementById('productMaterials').textContent = currentProduct.materials;
            document.getElementById('productSize').textContent = currentProduct.size;
            document.getElementById('productCare').textContent = currentProduct.care;
            document.getElementById('mainProductImage').textContent = currentProduct.name;
            
            // åœ¨åº«çŠ¶æ³ã®è¡¨ç¤º
            const stockStatus = document.getElementById('stockStatus');
            if (currentProduct.stock > 5) {
                stockStatus.textContent = 'åœ¨åº«ã‚ã‚Š';
                stockStatus.className = 'stock-status in-stock';
            } else if (currentProduct.stock > 0) {
                stockStatus.textContent = `æ®‹ã‚Š${currentProduct.stock}ç‚¹`;
                stockStatus.className = 'stock-status low-stock';
            } else {
                stockStatus.textContent = 'åœ¨åº«ãªã—';
                stockStatus.className = 'stock-status out-of-stock';
                document.getElementById('addToCartBtn').disabled = true;
                document.getElementById('addToCartBtn').textContent = 'åœ¨åº«åˆ‡ã‚Œ';
            }
            
            // ãŠæ°—ã«å…¥ã‚Šãƒœã‚¿ãƒ³ã®çŠ¶æ…‹
            updateFavoriteButton();
            
            // æ•°é‡å…¥åŠ›ã®æœ€å¤§å€¤è¨­å®š
            document.getElementById('quantityInput').max = currentProduct.stock;
        }

        function updateBreadcrumb() {
            document.getElementById('productBreadcrumb').textContent = currentProduct.name;
        }

        function selectImage(index) {
            const thumbnails = document.querySelectorAll('.thumbnail');
            thumbnails.forEach((thumb, i) => {
                thumb.classList.toggle('active', i === index);
            });
        }

        function changeQuantity(change) {
            const input = document.getElementById('quantityInput');
            const newQuantity = quantity + change;
            
            if (newQuantity >= 1 && newQuantity <= currentProduct.stock) {
                quantity = newQuantity;
                input.value = quantity;
                updateQuantityButtons();
            }
        }

        function updateQuantityButtons() {
            const decreaseBtn = document.querySelector('.quantity-decrease');
            const increaseBtn = document.querySelector('.quantity-increase');
            
            decreaseBtn.disabled = quantity <= 1;
            increaseBtn.disabled = quantity >= currentProduct.stock;
        }

        function addToCart() {
            if (!currentProduct || currentProduct.stock === 0) return;
            
            const quantityInput = document.getElementById('quantityInput');
            const selectedQuantity = parseInt(quantityInput.value);
            
            let cart = JSON.parse(localStorage.getItem('cart') || '[]');
            const existingItem = cart.find(item => item.id === currentProduct.id);
            
            if (existingItem) {
                const newQuantity = existingItem.quantity + selectedQuantity;
                if (newQuantity <= currentProduct.stock) {
                    existingItem.quantity = newQuantity;
                } else {
                    alert(`åœ¨åº«ãŒä¸è¶³ã—ã¦ã„ã¾ã™ã€‚æœ€å¤§${currentProduct.stock}å€‹ã¾ã§è¿½åŠ ã§ãã¾ã™ã€‚`);
                    return;
                }
            } else {
                cart.push({
                    id: currentProduct.id,
                    name: currentProduct.name,
                    price: currentProduct.price,
                    quantity: selectedQuantity
                });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            showAddToCartMessage();
        }

        function toggleFavorite() {
            let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            
            if (favorites.includes(currentProduct.id)) {
                favorites = favorites.filter(id => id !== currentProduct.id);
            } else {
                favorites.push(currentProduct.id);
            }
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
            updateFavoriteButton();
        }

        function updateFavoriteButton() {
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const favoriteBtn = document.getElementById('favoriteBtn');
            
            if (favorites.includes(currentProduct.id)) {
                favoriteBtn.innerHTML = 'â¤ï¸ ãŠæ°—ã«å…¥ã‚Šæ¸ˆã¿';
            } else {
                favoriteBtn.innerHTML = 'â™¡ ãŠæ°—ã«å…¥ã‚Šã«è¿½åŠ ';
            }
        }

        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart') || '[]');
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cartCount').textContent = totalItems;
        }

        function showAddToCartMessage() {
            const message = document.createElement('div');
            message.style.cssText = `
                position: fixed; top: 20px; right: 20px; z-index: 1000;
                background-color: var(--accent-color); color: white;
                padding: 15px 20px; border-radius: 8px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.15);
                animation: slideInRight 0.3s ease;
            `;
            message.innerHTML = `
                <div style="display: flex; align-items: center; gap: 15px;">
                    <span>âœ“ ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã—ã¾ã—ãŸ</span>
                    <button onclick="this.parentElement.parentElement.remove()" 
                            style="background: none; border: none; color: white; font-size: 18px; cursor: pointer;">Ã—</button>
                </div>
            `;
            
            document.body.appendChild(message);
            setTimeout(() => message.remove(), 3000);
        }

        function showError() {
            document.getElementById('productDetail').innerHTML = `
                <div class="container">
                    <div class="error-message">
                        <h3>å•†å“ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ</h3>
                        <p>æŒ‡å®šã•ã‚ŒãŸå•†å“ã¯å­˜åœ¨ã—ãªã„ã‹ã€å‰Šé™¤ã•ã‚ŒãŸå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>
                        <a href="products-local.html" class="btn-secondary">å•†å“ä¸€è¦§ã«æˆ»ã‚‹</a>
                    </div>
                </div>
            `;
        }

        // æ•°é‡å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å¤‰æ›´ã‚¤ãƒ™ãƒ³ãƒˆ
        document.getElementById('quantityInput').addEventListener('change', function() {
            const value = parseInt(this.value);
            if (value >= 1 && value <= currentProduct.stock) {
                quantity = value;
                updateQuantityButtons();
            } else {
                this.value = quantity;
            }
        });

        // ã‚«ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
        document.querySelector('.cart-btn').addEventListener('click', () => {
            const cart = JSON.parse(localStorage.getItem('cart') || '[]');
            if (cart.length === 0) {
                alert('ã‚«ãƒ¼ãƒˆã¯ç©ºã§ã™');
            } else {
                const items = cart.map(item => `${item.name} Ã— ${item.quantity}`).join('\n');
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                alert(`ã‚«ãƒ¼ãƒˆã®ä¸­èº«:\n${items}\n\nåˆè¨ˆ: Â¥${total.toLocaleString()}`);
            }
        });
    </script>
</body>
</html>